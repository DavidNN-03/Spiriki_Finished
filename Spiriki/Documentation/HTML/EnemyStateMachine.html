<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../CSS/styles.css" />
    <title>Spiriki - EnemyStateMachine</title>
  </head>
  <body>
    <!-- topnav -->
    <div class="topnav"><a href="./index.html">Spiriki</a></div>

    <div class="sidebar"><h1 >Documentation</h1><br><br><h2 >Classes</h2><h4 >Spiriki.Control</h4><a href="./EnemySuspicionState.html">EnemySuspicionState</a><br><br><a href="./EnemyGuardMovingState.html">EnemyGuardMovingState</a><br><br><a href="./EnemyGuardIdleState.html">EnemyGuardIdleState</a><br><br><a href="./EnemyStateMachine.html">EnemyStateMachine</a><br><br><a href="./EnemyBaseState.html">EnemyBaseState</a><br><br><a href="./InteractablesDetector.html">InteractablesDetector</a><br><br><a href="./InputReader.html">InputReader</a><br><br><a href="./PlayerSneakState.html">PlayerSneakState</a><br><br><a href="./PlayerMovingToInteractableState.html">PlayerMovingToInteractableState</a><br><br><a href="./PlayerLandingState.html">PlayerLandingState</a><br><br><a href="./PlayerJumpingState.html">PlayerJumpingState</a><br><br><a href="./PlayerInteractingState.html">PlayerInteractingState</a><br><br><a href="./PlayerFreeLookState.html">PlayerFreeLookState</a><br><br><a href="./PlayerFallingState.html">PlayerFallingState</a><br><br><a href="./PlayerEnterJumpState.html">PlayerEnterJumpState</a><br><br><a href="./PlayerStateMachine.html">PlayerStateMachine</a><br><br><a href="./PlayerBaseState.html">PlayerBaseState</a><br><br><a href="./PatrolPath.html">PatrolPath</a><br><br><a href="./SpiritRunToCompletionAreaState.html">SpiritRunToCompletionAreaState</a><br><br><a href="./SpiritFollowPlayerState.html">SpiritFollowPlayerState</a><br><br><a href="./SpiritCapturedState.html">SpiritCapturedState</a><br><br><a href="./SpiritStateMachine.html">SpiritStateMachine</a><br><br><a href="./SpiritBaseState.html">SpiritBaseState</a><br><br><a href="./StateMachine.html">StateMachine</a><br><br><a href="./State.html">State</a><br><br><h4 >Spiriki.Interaction</h4><a href="./Cage.html">Cage</a><br><br><a href="./InteractionTrigger.html">InteractionTrigger</a><br><br><a href="./Interactable.html">Interactable</a><br><br><a href="./Key.html">Key</a><br><br><a href="./PlayerCarrySlot.html">PlayerCarrySlot</a><br><br><h4 >Spiriki.Objective</h4><a href="./ObjectiveManager.html">ObjectiveManager</a><br><br><a href="./ObjectiveCompletionArea.html">ObjectiveCompletionArea</a><br><br><a href="./Objective.html">Objective</a><br><br><h4 >Spiriki.SceneHandling</h4><a href="./SceneHandler.html">SceneHandler</a><br><br><h4 >Spiriki.UI</h4><a href="./FaceCamera.html">FaceCamera</a><br><br><a href="./MainMenu.html">MainMenu</a><br><br><a href="./SpottingCanvasManager.html">SpottingCanvasManager</a><br><br><br><br><h2 >Enums</h2><a href="./ChooseInteractableMethod.html">ChooseInteractableMethod</a><br><br><a href="./PlayerSpottedReaction.html">PlayerSpottedReaction</a><br><br><a href="./FaceCameraMode.html">FaceCameraMode</a><br><br></div>

    <!-- main area-->
    <div class="main-text-container"><h1 >public class EnemyStateMachine</h1><br><p >Namespace: Spiriki.Control</p><p >Inherits from: StateMachine</p><br><p >The enemy statemachine. This class stores the various cariables used in the enemy's states.</p><br><br><table class="myTable"><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">RotationSpeed { get; private set; }</td><td style="width:30%">The enemy's rotation speed.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">GuardIdleTime { get; private set; }</td><td style="width:30%">How long the guard spends idle at a waypoint before moving to the next.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">SpottingRange { get; private set; }</td><td style="width:30%">How far the guard can spot the player.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">MaxSpotAngle { get; private set; }</td><td style="width:30%">The max angle at which the guard can spot the player.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">SpottingSpeedMaxDistance { get; private set; }</td><td style="width:30%">How quickly the player will be spotted when the distance between the enemy and player is equal to SpottingRange.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">SpottingSpeedMinDistance { get; private set; }</td><td style="width:30%">How quickly the player would be spotted, if the distance between the enemy and player was 0.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">SpottingProgressLossSpeed { get; private set; }</td><td style="width:30%">How quickly the player will be un-spotted when out of sight.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">Transform</td><td style="width:30%">EyesTransform { get; private set; }</td><td style="width:30%">Transform of the GameObject marking the enemy's eyes.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">PatrolPath</td><td style="width:30%">PatrolPath { get; private set; }</td><td style="width:30%">The PatrolPath the enemy will be guarding.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">ObjectiveManager</td><td style="width:30%">ObjectiveManager { get; private set; }</td><td style="width:30%">Reference to the player character.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">PlayerStateMachine</td><td style="width:30%">Player { get; private set; }</td><td style="width:30%">Reference to the player character.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">SpottingCanvasManager</td><td style="width:30%">SpottingCanvasManager { get; private set; }</td><td style="width:30%">Reference to the spotting canvas to display UI.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">SpottingProgressNormalized { get; private set; }</td><td style="width:30%">Defines how much the player has been spotted. When 0, the player has not been spotted at all. At 1, the player has been spotted and the enemy will enter EnemySuspicionState.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">int</td><td style="width:30%">CurrentGuardPointIndex { get; set; }</td><td style="width:30%">The index of the current guard-point in PatrolPath.</td></tr></table><br><br><table class="myTable"><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Awake()</td><td style="width:30%">Assigns values to Animator, Player, and SpottingCanvasManager.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Start()</td><td style="width:30%">Resets SpottingProgressNormalized and CurrentGuardPointIndex to 0. Enemy enters EnemyGuardMovingState to move to the first guard-point in PatrolPath.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">void</td><td style="width:30%">AttemptSpotPlayer(float deltaTime)</td><td style="width:30%">The enemy will attempt to spot the player by calling CheckSpotPlayer(). If that function returns true, SpottingProgressNormalized is increased. If SpottingProgressNormalized is more than or equal to 1, enter EnemySuspicionState. Also, updates the UI.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">bool</td><td style="width:30%">CheckSpotPlayer()</td><td style="width:30%">First it will check if the player is in range, secondly it will check if the angle between the enemy's eyes and the player is small enough, and lastly, the enemy will raycast towards the player and see if it hits. Returns whether the player is seen.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">CalculateSpottingChange(float deltaTime)</td><td style="width:30%">Returns how much SpottingProgressNormalized should be incresed when the player is spotted, based on the distance between the player and the enemy.</td></tr></table><br><br><br><br><br></div>
  </body>
</html>